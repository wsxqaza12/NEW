[
["prevalence-and-survival-data.html", "Chapter 4 Prevalence and Survival data", " Chapter 4 Prevalence and Survival data In this chapter, we will use meta and lme4 package to analyze the data, so first we need to use library command to load the add on the package. You can view all the methods for meta analysis of prevalence data of meta package by typing help(meta). library(meta) library(lme4) "],
["exercise-1-ismail-prevalence-data.html", "Exercise 1 - ismail (Prevalence data)", " Exercise 1 - ismail (Prevalence data) Then we read the csv file without setting the working directory, you can refer to this chapter 1.1. # Read data - ismail ismail &lt;- read.csv(&quot;~/Desktop/meta/Lab_day2/ismail.csv&quot;) print(ismail) Table 4.1: A table of the first 5 rows of Ismail data. AuthorYear countrycontinent numberofparticipants rate events diagnosisofdepression referralsource author year referral Baiyewu, 2012 Nigeria, Africa 53 0.46 24 NPI Community-Based ?Baiyewu 2012 1 Brodaty, 2012 Australia, Australia 319 0.15 48 NPI Community-Based Brodaty 2012 1 Chan, 2003 USA, North America 121 0.16 19 NPI Community-Based Chan 2003 1 Chan, 2010 Hong Kong, Asia 338 0.14 47 NPI Community-Based Chan 2010 1 Colenda, 2010 USA, North America 215 0.22 47 DSM Community-Based Colenda 2010 1 The meaning of covariates in data Covariates Meaning numberofparticipants number of participants rate prevalence of each study events number of events AuthorYear name of study 1.1 Method 1 - Binomial distribution 1.1a. Generate new variable for variance First of all, we have to generate a new variable for the variance of the rate. You can find the details for the formula on page 10 of the handout, which is \\(var(p)={p*(1-p)}/n\\). Then, we can obtain standard error from variance, consequently. # Generate a new variable for the variance of rate ismail$ratevar &lt;- (ismail$rate*(1-ismail$rate))/ismail$numberofparticipants # Generate SE = squared root of ratevar ismail$ratese &lt;- sqrt(ismail$ratevar) (This generates the necessary input for the metagen command) 1.1b. Use metagen to carry out the meta-analysis Use command metagen in the meta package # Use metagen to carry out the meta-analysis ismail.gen &lt;- metagen(rate, ratese, studlab = AuthorYear, data = ismail) ismail.gen ## 95%-CI %W(fixed) %W(random) ## Baiyewu, 2012 0.4600 [0.3258; 0.5942] 0.2 1.5 ## Brodaty, 2012 0.1500 [0.1108; 0.1892] 1.8 1.9 ## Chan, 2003 0.1600 [0.0947; 0.2253] 0.6 1.9 ## Chan, 2010 0.1400 [0.1030; 0.1770] 2.0 2.0 ## Colenda, 2010 0.2200 [0.1646; 0.2754] 0.9 1.9 ## Dlugaj, 2015 0.1700 [0.1395; 0.2005] 2.9 2.0 ## Feng, 2009 0.1100 [0.0568; 0.1632] 1.0 1.9 ## ?Hinton, 2003 0.4400 [0.3111; 0.5689] 0.2 1.5 ## Juarez-Cedillo, 2012 0.1500 [0.0992; 0.2008] 1.1 1.9 ## Kumar, 2006 0.1700 [0.0333; 0.3067] 0.1 1.5 ## Lam, 2007 0.1600 [0.1085; 0.2115] 1.0 1.9 ## Lopez-Anton, 2015 0.3500 [0.2980; 0.4020] 1.0 1.9 ## Luppa, 2012 0.4900 [0.4116; 0.5684] 0.4 1.8 ## Lyketsos, 2002 0.2600 [0.2119; 0.3081] 1.2 1.9 ## Moretti, 2013 0.1500 [0.1341; 0.1659] 10.8 2.0 ## O&#39;Bryant, 2013 0.3500 [0.2770; 0.4230] 0.5 1.8 ## Okura, 2010 0.2900 [0.2324; 0.3476] 0.8 1.9 ## Palmer, 2007 0.3500 [0.2136; 0.4864] 0.1 1.5 ## ?Peters, 2012 0.1700 [0.1364; 0.2036] 2.4 2.0 ## Pink , 2015 0.2500 [0.2034; 0.2966] 1.3 1.9 ## Potvin, 2012 0.1100 [0.0699; 0.1501] 1.7 1.9 ## Ravaglia, 2008 0.4400 [0.3253; 0.5547] 0.2 1.6 ## Richard, 2013 0.2400 [0.1996; 0.2804] 1.7 1.9 ## Solfrizzi, 2007 0.6300 [0.5497; 0.7103] 0.4 1.8 ## Tatsch, 2006 0.2500 [0.0803; 0.4197] 0.1 1.3 ## Van der Linde, 2010 0.1500 [0.1145; 0.1855] 2.2 2.0 ## Weyerer, 2008 0.1300 [0.1069; 0.1531] 5.1 2.0 ## Yaffe, 2011 0.1800 [0.1366; 0.2234] 1.4 1.9 ## Chao, 2014 0.3400 [0.2074; 0.4726] 0.2 1.5 ## Chilovi, 2009 0.4700 [0.3822; 0.5578] 0.4 1.8 ## Chiu, 2007 0.4100 [0.2595; 0.5605] 0.1 1.4 ## Di Iulio, 2010 0.3800 [0.2952; 0.4648] 0.4 1.8 ## Edwards, 2009 0.3500 [0.3090; 0.3910] 1.6 1.9 ## Elfgren, 2010 0.3300 [0.1335; 0.5265] 0.1 1.2 ## Feldman, 2004 0.4800 [0.4398; 0.5202] 1.7 1.9 ## Fern?ndez-Mart?nez, 2010 0.3300 [0.2334; 0.4266] 0.3 1.7 ## Forrester, 2015 0.2200 [0.1803; 0.2597] 1.7 1.9 ## Gabryelewicz, 2004 0.4700 [0.3731; 0.5669] 0.3 1.7 ## Gallagher, 2011 0.2400 [0.1740; 0.3060] 0.6 1.9 ## Gallassi, 2008 0.7900 [0.6760; 0.9040] 0.2 1.6 ## Hudon, 2008 0.3900 [0.2459; 0.5341] 0.1 1.5 ## Kim, 2015 0.5100 [0.4697; 0.5503] 1.7 1.9 ## Kosteniuk, 2014 0.5000 [0.3628; 0.6372] 0.1 1.5 ## Lach, 2010 0.5900 [0.4623; 0.7177] 0.2 1.6 ## Lee, 2008 0.2000 [0.1599; 0.2401] 1.7 1.9 ## Lehrner, 2014 0.4800 [0.4132; 0.5468] 0.6 1.9 ## Li, 2001 0.3300 [0.1289; 0.5311] 0.1 1.2 ## Lopez, 2005 0.6000 [0.5364; 0.6636] 0.7 1.9 ## Modrego, 2004 0.3700 [0.2814; 0.4586] 0.3 1.8 ## Muangpaisan, 2008 0.4600 [0.3487; 0.5713] 0.2 1.6 ## Palmer, 2010 0.5000 [0.4144; 0.5856] 0.4 1.8 ## Rozzini, 2008 0.4100 [0.3313; 0.4887] 0.4 1.8 ## Serra, 2010 0.5000 [0.2752; 0.7248] 0.1 1.1 ## Snowden, 2014 0.1400 [0.1319; 0.1481] 41.7 2.0 ## Van der Mussele, 2014 0.2300 [0.1690; 0.2910] 0.7 1.9 ## Vaughn, 2009 0.4200 [0.3118; 0.5282] 0.2 1.7 ## Zhang, 2012 0.2700 [0.1288; 0.4112] 0.1 1.5 ## ## Number of studies combined: k = 57 ## ## 95%-CI z p-value ## Fixed effect model 0.1947 [0.1894; 0.1999] 73.15 0 ## Random effects model 0.3223 [0.2887; 0.3559] 18.80 &lt; 0.0001 ## ## Quantifying heterogeneity: ## tau^2 = 0.0147; H = 5.55 [5.18; 5.95]; I^2 = 96.8% [96.3%; 97.2%] ## ## Test of heterogeneity: ## Q d.f. p-value ## 1725.70 56 &lt; 0.0001 ## ## Details on meta-analytical method: ## - Inverse variance method ## - DerSimonian-Laird estimator for tau^2 1.1c. Forest plot forest(ismail.gen) If the forest plot cannot be seen fully, we can save this plot as pdf via the following command. # Save forest plot as pdf # pdf(&quot;~/Desktop/meta/Lab_day2/ismail.pdf&quot;,height=15,width=12) forest(ismail.gen) dev.off() ## quartz_off_screen ## 2 1.1d. Subgroup Analysis by referral source Let’s conduct subgroup analysis to explore the potential sources of the huge observed heterogeneity ismail.gen.sub&lt;-metagen(rate, ratese, studlab = AuthorYear, byvar = referralsource, data = ismail) ismail.gen.sub ## 95%-CI %W(fixed) %W(random) ## Baiyewu, 2012 0.4600 [0.3258; 0.5942] 0.2 1.5 ## Brodaty, 2012 0.1500 [0.1108; 0.1892] 1.8 1.9 ## Chan, 2003 0.1600 [0.0947; 0.2253] 0.6 1.9 ## Chan, 2010 0.1400 [0.1030; 0.1770] 2.0 2.0 ## Colenda, 2010 0.2200 [0.1646; 0.2754] 0.9 1.9 ## Dlugaj, 2015 0.1700 [0.1395; 0.2005] 2.9 2.0 ## Feng, 2009 0.1100 [0.0568; 0.1632] 1.0 1.9 ## ?Hinton, 2003 0.4400 [0.3111; 0.5689] 0.2 1.5 ## Juarez-Cedillo, 2012 0.1500 [0.0992; 0.2008] 1.1 1.9 ## Kumar, 2006 0.1700 [0.0333; 0.3067] 0.1 1.5 ## Lam, 2007 0.1600 [0.1085; 0.2115] 1.0 1.9 ## Lopez-Anton, 2015 0.3500 [0.2980; 0.4020] 1.0 1.9 ## Luppa, 2012 0.4900 [0.4116; 0.5684] 0.4 1.8 ## Lyketsos, 2002 0.2600 [0.2119; 0.3081] 1.2 1.9 ## Moretti, 2013 0.1500 [0.1341; 0.1659] 10.8 2.0 ## O&#39;Bryant, 2013 0.3500 [0.2770; 0.4230] 0.5 1.8 ## Okura, 2010 0.2900 [0.2324; 0.3476] 0.8 1.9 ## Palmer, 2007 0.3500 [0.2136; 0.4864] 0.1 1.5 ## ?Peters, 2012 0.1700 [0.1364; 0.2036] 2.4 2.0 ## Pink , 2015 0.2500 [0.2034; 0.2966] 1.3 1.9 ## Potvin, 2012 0.1100 [0.0699; 0.1501] 1.7 1.9 ## Ravaglia, 2008 0.4400 [0.3253; 0.5547] 0.2 1.6 ## Richard, 2013 0.2400 [0.1996; 0.2804] 1.7 1.9 ## Solfrizzi, 2007 0.6300 [0.5497; 0.7103] 0.4 1.8 ## Tatsch, 2006 0.2500 [0.0803; 0.4197] 0.1 1.3 ## Van der Linde, 2010 0.1500 [0.1145; 0.1855] 2.2 2.0 ## Weyerer, 2008 0.1300 [0.1069; 0.1531] 5.1 2.0 ## Yaffe, 2011 0.1800 [0.1366; 0.2234] 1.4 1.9 ## Chao, 2014 0.3400 [0.2074; 0.4726] 0.2 1.5 ## Chilovi, 2009 0.4700 [0.3822; 0.5578] 0.4 1.8 ## Chiu, 2007 0.4100 [0.2595; 0.5605] 0.1 1.4 ## Di Iulio, 2010 0.3800 [0.2952; 0.4648] 0.4 1.8 ## Edwards, 2009 0.3500 [0.3090; 0.3910] 1.6 1.9 ## Elfgren, 2010 0.3300 [0.1335; 0.5265] 0.1 1.2 ## Feldman, 2004 0.4800 [0.4398; 0.5202] 1.7 1.9 ## Fern?ndez-Mart?nez, 2010 0.3300 [0.2334; 0.4266] 0.3 1.7 ## Forrester, 2015 0.2200 [0.1803; 0.2597] 1.7 1.9 ## Gabryelewicz, 2004 0.4700 [0.3731; 0.5669] 0.3 1.7 ## Gallagher, 2011 0.2400 [0.1740; 0.3060] 0.6 1.9 ## Gallassi, 2008 0.7900 [0.6760; 0.9040] 0.2 1.6 ## Hudon, 2008 0.3900 [0.2459; 0.5341] 0.1 1.5 ## Kim, 2015 0.5100 [0.4697; 0.5503] 1.7 1.9 ## Kosteniuk, 2014 0.5000 [0.3628; 0.6372] 0.1 1.5 ## Lach, 2010 0.5900 [0.4623; 0.7177] 0.2 1.6 ## Lee, 2008 0.2000 [0.1599; 0.2401] 1.7 1.9 ## Lehrner, 2014 0.4800 [0.4132; 0.5468] 0.6 1.9 ## Li, 2001 0.3300 [0.1289; 0.5311] 0.1 1.2 ## Lopez, 2005 0.6000 [0.5364; 0.6636] 0.7 1.9 ## Modrego, 2004 0.3700 [0.2814; 0.4586] 0.3 1.8 ## Muangpaisan, 2008 0.4600 [0.3487; 0.5713] 0.2 1.6 ## Palmer, 2010 0.5000 [0.4144; 0.5856] 0.4 1.8 ## Rozzini, 2008 0.4100 [0.3313; 0.4887] 0.4 1.8 ## Serra, 2010 0.5000 [0.2752; 0.7248] 0.1 1.1 ## Snowden, 2014 0.1400 [0.1319; 0.1481] 41.7 2.0 ## Van der Mussele, 2014 0.2300 [0.1690; 0.2910] 0.7 1.9 ## Vaughn, 2009 0.4200 [0.3118; 0.5282] 0.2 1.7 ## Zhang, 2012 0.2700 [0.1288; 0.4112] 0.1 1.5 ## referralsource ## Baiyewu, 2012 2 ## Brodaty, 2012 2 ## Chan, 2003 2 ## Chan, 2010 2 ## Colenda, 2010 2 ## Dlugaj, 2015 2 ## Feng, 2009 2 ## ?Hinton, 2003 2 ## Juarez-Cedillo, 2012 2 ## Kumar, 2006 2 ## Lam, 2007 2 ## Lopez-Anton, 2015 2 ## Luppa, 2012 2 ## Lyketsos, 2002 2 ## Moretti, 2013 2 ## O&#39;Bryant, 2013 2 ## Okura, 2010 2 ## Palmer, 2007 2 ## ?Peters, 2012 2 ## Pink , 2015 2 ## Potvin, 2012 2 ## Ravaglia, 2008 2 ## Richard, 2013 2 ## Solfrizzi, 2007 2 ## Tatsch, 2006 2 ## Van der Linde, 2010 2 ## Weyerer, 2008 2 ## Yaffe, 2011 2 ## Chao, 2014 1 ## Chilovi, 2009 1 ## Chiu, 2007 1 ## Di Iulio, 2010 1 ## Edwards, 2009 1 ## Elfgren, 2010 1 ## Feldman, 2004 1 ## Fern?ndez-Mart?nez, 2010 1 ## Forrester, 2015 1 ## Gabryelewicz, 2004 1 ## Gallagher, 2011 1 ## Gallassi, 2008 1 ## Hudon, 2008 1 ## Kim, 2015 1 ## Kosteniuk, 2014 1 ## Lach, 2010 1 ## Lee, 2008 1 ## Lehrner, 2014 1 ## Li, 2001 1 ## Lopez, 2005 1 ## Modrego, 2004 1 ## Muangpaisan, 2008 1 ## Palmer, 2010 1 ## Rozzini, 2008 1 ## Serra, 2010 1 ## Snowden, 2014 1 ## Van der Mussele, 2014 1 ## Vaughn, 2009 1 ## Zhang, 2012 1 ## ## Number of studies combined: k = 57 ## ## 95%-CI z p-value ## Fixed effect model 0.1947 [0.1894; 0.1999] 73.15 0 ## Random effects model 0.3223 [0.2887; 0.3559] 18.80 &lt; 0.0001 ## ## Quantifying heterogeneity: ## tau^2 = 0.0147; H = 5.55 [5.18; 5.95]; I^2 = 96.8% [96.3%; 97.2%] ## ## Quantifying residual heterogeneity: ## H = 5.57 [5.20; 5.98]; I^2 = 96.8% [96.3%; 97.2%] ## ## Test of heterogeneity: ## Q d.f. p-value ## 1725.70 56 &lt; 0.0001 ## ## Results for subgroups (fixed effect model): ## k 95%-CI Q ## referralsource = Clinic-Based 29 0.2043 [0.1974; 0.2113] 1300.61 ## referralsource = Community-Based 28 0.1819 [0.1739; 0.1898] 407.59 ## tau^2 I^2 ## referralsource = Clinic-Based 0.0346 97.8% ## referralsource = Community-Based 0.0070 93.4% ## ## Test for subgroup differences (fixed effect model): ## Q d.f. p-value ## Between groups 17.50 1 &lt; 0.0001 ## Within groups 1708.21 55 &lt; 0.0001 ## ## Results for subgroups (random effects model): ## k 95%-CI Q ## referralsource = Clinic-Based 29 0.4023 [0.3317; 0.4729] 1300.61 ## referralsource = Community-Based 28 0.2426 [0.2091; 0.2762] 407.59 ## tau^2 I^2 ## referralsource = Clinic-Based 0.0346 97.8% ## referralsource = Community-Based 0.0070 93.4% ## ## Test for subgroup differences (random effects model): ## Q d.f. p-value ## Between groups 16.03 1 &lt; 0.0001 ## ## Details on meta-analytical method: ## - Inverse variance method ## - DerSimonian-Laird estimator for tau^2 forest(ismail.gen.sub) Again, if the forest plot cannot be seen fully, we can save this plot as pdf file. # Save forest plot as pdf # pdf(&quot;~/Desktop/meta/Lab_day2/ismail_sub.pdf&quot;,height=15,width=12) forest(ismail.gen.sub) dev.off() ## quartz_off_screen ## 2 1.2 Method 2 - Logit Transformation 1.2a. Use metaprop to carry out the meta-analysis Here, we will use command metaprop in the meta package to conduct the logit transformation of prevelance meta analysis. Note that the commandmetaprop uses “number of events” and “number of participants”; however, the metagen uses “rate” and “ratese”. The metaprop command is specially designed for the prevalence meta anylsis. Now type : ismail.logit &lt;- metaprop(event = events, n = numberofparticipants, studlab = AuthorYear, data = ismail, method = &quot;Inverse&quot;, sm = &quot;PLOGIT&quot;) You can specify the type of summary measure you want to use: sm=(“PLOGIT”, “PAS”, “PFT”, “PLN”, “PRAW”) Transformations R_code Logit PLOGIT Arcsine PAS Double Arcsine PFT Log PLN Raw PRAW Then, let’s see the result of logit transformation meta analysis. ismail.logit ## proportion 95%-CI %W(fixed) %W(random) ## Baiyewu, 2012 0.4528 [0.3156; 0.5955] 0.4 1.7 ## Brodaty, 2012 0.1505 [0.1131; 0.1945] 1.3 1.8 ## Chan, 2003 0.1570 [0.0973; 0.2343] 0.5 1.7 ## Chan, 2010 0.1391 [0.1040; 0.1806] 1.3 1.8 ## Colenda, 2010 0.2186 [0.1653; 0.2799] 1.1 1.8 ## Dlugaj, 2015 0.1698 [0.1402; 0.2028] 2.6 1.9 ## Feng, 2009 0.1128 [0.0645; 0.1792] 0.4 1.7 ## ?Hinton, 2003 0.4386 [0.3074; 0.5764] 0.4 1.7 ## Juarez-Cedillo, 2012 0.1526 [0.1047; 0.2118] 0.8 1.8 ## Kumar, 2006 0.1724 [0.0585; 0.3577] 0.1 1.4 ## Lam, 2007 0.1590 [0.1106; 0.2180] 0.8 1.8 ## Lopez-Anton, 2015 0.3498 [0.2979; 0.4046] 2.3 1.9 ## Luppa, 2012 0.4872 [0.4065; 0.5684] 1.2 1.8 ## Lyketsos, 2002 0.2594 [0.2122; 0.3111] 1.9 1.9 ## Moretti, 2013 0.1499 [0.1343; 0.1666] 7.7 1.9 ## O&#39;Bryant, 2013 0.3476 [0.2750; 0.4257] 1.2 1.8 ## Okura, 2010 0.2899 [0.2331; 0.3520] 1.5 1.8 ## Palmer, 2007 0.3404 [0.2086; 0.4931] 0.3 1.6 ## ?Peters, 2012 0.1691 [0.1366; 0.2057] 2.1 1.9 ## Pink , 2015 0.2500 [0.2043; 0.3002] 1.9 1.9 ## Potvin, 2012 0.1111 [0.0739; 0.1586] 0.7 1.8 ## Ravaglia, 2008 0.4444 [0.3272; 0.5664] 0.6 1.7 ## Richard, 2013 0.2401 [0.2004; 0.2834] 2.4 1.9 ## Solfrizzi, 2007 0.6331 [0.5472; 0.7132] 1.0 1.8 ## Tatsch, 2006 0.2400 [0.0936; 0.4513] 0.1 1.4 ## Van der Linde, 2010 0.1491 [0.1152; 0.1884] 1.5 1.8 ## Weyerer, 2008 0.1297 [0.1075; 0.1547] 2.9 1.9 ## Yaffe, 2011 0.1794 [0.1377; 0.2275] 1.4 1.8 ## Chao, 2014 0.3469 [0.2167; 0.4964] 0.3 1.7 ## Chilovi, 2009 0.4677 [0.3776; 0.5594] 1.0 1.8 ## Chiu, 2007 0.4146 [0.2632; 0.5789] 0.3 1.6 ## Di Iulio, 2010 0.3810 [0.2959; 0.4717] 0.9 1.8 ## Edwards, 2009 0.3493 [0.3084; 0.3920] 3.7 1.9 ## Elfgren, 2010 0.3182 [0.1386; 0.5487] 0.1 1.4 ## Feldman, 2004 0.4806 [0.4397; 0.5217] 4.6 1.9 ## Fern?ndez-Mart?nez, 2010 0.3297 [0.2347; 0.4361] 0.6 1.8 ## Forrester, 2015 0.2196 [0.1808; 0.2623] 2.2 1.9 ## Gabryelewicz, 2004 0.4706 [0.3710; 0.5720] 0.8 1.8 ## Gallagher, 2011 0.2422 [0.1783; 0.3159] 0.9 1.8 ## Gallassi, 2008 0.7959 [0.6566; 0.8976] 0.2 1.6 ## Hudon, 2008 0.3864 [0.2436; 0.5450] 0.3 1.6 ## Kim, 2015 0.5102 [0.4690; 0.5512] 4.6 1.9 ## Kosteniuk, 2014 0.5098 [0.3660; 0.6525] 0.4 1.7 ## Lach, 2010 0.5965 [0.4582; 0.7244] 0.4 1.7 ## Lee, 2008 0.1990 [0.1601; 0.2426] 1.9 1.9 ## Lehrner, 2014 0.4791 [0.4107; 0.5481] 1.7 1.8 ## Li, 2001 0.3333 [0.1459; 0.5697] 0.1 1.4 ## Lopez, 2005 0.6009 [0.5341; 0.6650] 1.7 1.8 ## Modrego, 2004 0.3684 [0.2800; 0.4639] 0.8 1.8 ## Muangpaisan, 2008 0.4545 [0.3406; 0.5721] 0.6 1.8 ## Palmer, 2010 0.5038 [0.4152; 0.5923] 1.0 1.8 ## Rozzini, 2008 0.4133 [0.3336; 0.4965] 1.1 1.8 ## Serra, 2010 0.5263 [0.2886; 0.7555] 0.1 1.4 ## Snowden, 2014 0.1399 [0.1319; 0.1482] 26.7 1.9 ## Van der Mussele, 2014 0.2295 [0.1707; 0.2973] 1.0 1.8 ## Vaughn, 2009 0.4250 [0.3151; 0.5406] 0.6 1.8 ## Zhang, 2012 0.2632 [0.1340; 0.4310] 0.2 1.6 ## ## Number of studies combined: k = 57 ## ## proportion 95%-CI z p-value ## Fixed effect model 0.2411 [0.2348; 0.2475] -- -- ## Random effects model 0.3098 [0.2670; 0.3561] -- -- ## ## Quantifying heterogeneity: ## tau^2 = 0.5956; H = 5.65 [5.28; 6.05]; I^2 = 96.9% [96.4%; 97.3%] ## ## Test of heterogeneity: ## Q d.f. p-value ## 1788.55 56 0 ## ## Details on meta-analytical method: ## - Inverse variance method ## - DerSimonian-Laird estimator for tau^2 ## - Logit transformation ## - Clopper-Pearson confidence interval for individual studies 1.2b. Forest plot forest(ismail.logit) Again, if the forest plot cannot be seen fully, we can save this plot as pdf file. pdf(&quot;~/Desktop/meta/Lab_day2/ismail_logit.pdf&quot;,height=15,width=12) forest(ismail.logit) dev.off() ## quartz_off_screen ## 2 1.3 Method 3 - Freeman-Tukey Double Arcsine Transformation 1.3a. Use metaprop to carry out the meta-analysis Similar to Logit Transforamtion, the Double Arcsine Transformation is conducted by using metaprop command in meta package. The only difference is that Double Arcsine Transformation uses sm=&quot;PFT&quot; instead of sm=&quot;PLOGIT&quot;. Now type : ismail.ft &lt;- metaprop(event = events, n = numberofparticipants, studlab = AuthorYear, data = ismail, method = &quot;Inverse&quot;, sm = &quot;PFT&quot;) ismail.ft ## proportion 95%-CI %W(fixed) %W(random) ## Baiyewu, 2012 0.4528 [0.3156; 0.5955] 0.3 1.6 ## Brodaty, 2012 0.1505 [0.1131; 0.1945] 1.6 1.9 ## Chan, 2003 0.1570 [0.0973; 0.2343] 0.6 1.8 ## Chan, 2010 0.1391 [0.1040; 0.1806] 1.7 1.9 ## Colenda, 2010 0.2186 [0.1653; 0.2799] 1.1 1.8 ## Dlugaj, 2015 0.1698 [0.1402; 0.2028] 2.9 1.9 ## Feng, 2009 0.1128 [0.0645; 0.1792] 0.7 1.8 ## ?Hinton, 2003 0.4386 [0.3074; 0.5764] 0.3 1.6 ## Juarez-Cedillo, 2012 0.1526 [0.1047; 0.2118] 0.9 1.8 ## Kumar, 2006 0.1724 [0.0585; 0.3577] 0.1 1.4 ## Lam, 2007 0.1590 [0.1106; 0.2180] 1.0 1.8 ## Lopez-Anton, 2015 0.3498 [0.2979; 0.4046] 1.6 1.9 ## Luppa, 2012 0.4872 [0.4065; 0.5684] 0.8 1.8 ## Lyketsos, 2002 0.2594 [0.2122; 0.3111] 1.6 1.9 ## Moretti, 2013 0.1499 [0.1343; 0.1666] 9.5 1.9 ## O&#39;Bryant, 2013 0.3476 [0.2750; 0.4257] 0.8 1.8 ## Okura, 2010 0.2899 [0.2331; 0.3520] 1.2 1.9 ## Palmer, 2007 0.3404 [0.2086; 0.4931] 0.2 1.6 ## ?Peters, 2012 0.1691 [0.1366; 0.2057] 2.3 1.9 ## Pink , 2015 0.2500 [0.2043; 0.3002] 1.6 1.9 ## Potvin, 2012 0.1111 [0.0739; 0.1586] 1.1 1.9 ## Ravaglia, 2008 0.4444 [0.3272; 0.5664] 0.4 1.7 ## Richard, 2013 0.2401 [0.2004; 0.2834] 2.1 1.9 ## Solfrizzi, 2007 0.6331 [0.5472; 0.7132] 0.7 1.8 ## Tatsch, 2006 0.2400 [0.0936; 0.4513] 0.1 1.4 ## Van der Linde, 2010 0.1491 [0.1152; 0.1884] 1.9 1.9 ## Weyerer, 2008 0.1297 [0.1075; 0.1547] 4.0 1.9 ## Yaffe, 2011 0.1794 [0.1377; 0.2275] 1.5 1.9 ## Chao, 2014 0.3469 [0.2167; 0.4964] 0.2 1.6 ## Chilovi, 2009 0.4677 [0.3776; 0.5594] 0.6 1.8 ## Chiu, 2007 0.4146 [0.2632; 0.5789] 0.2 1.6 ## Di Iulio, 2010 0.3810 [0.2959; 0.4717] 0.6 1.8 ## Edwards, 2009 0.3493 [0.3084; 0.3920] 2.6 1.9 ## Elfgren, 2010 0.3182 [0.1386; 0.5487] 0.1 1.3 ## Feldman, 2004 0.4806 [0.4397; 0.5217] 2.9 1.9 ## Fern?ndez-Mart?nez, 2010 0.3297 [0.2347; 0.4361] 0.4 1.7 ## Forrester, 2015 0.2196 [0.1808; 0.2623] 2.1 1.9 ## Gabryelewicz, 2004 0.4706 [0.3710; 0.5720] 0.5 1.8 ## Gallagher, 2011 0.2422 [0.1783; 0.3159] 0.8 1.8 ## Gallassi, 2008 0.7959 [0.6566; 0.8976] 0.2 1.6 ## Hudon, 2008 0.3864 [0.2436; 0.5450] 0.2 1.6 ## Kim, 2015 0.5102 [0.4690; 0.5512] 2.9 1.9 ## Kosteniuk, 2014 0.5098 [0.3660; 0.6525] 0.3 1.6 ## Lach, 2010 0.5965 [0.4582; 0.7244] 0.3 1.6 ## Lee, 2008 0.1990 [0.1601; 0.2426] 1.9 1.9 ## Lehrner, 2014 0.4791 [0.4107; 0.5481] 1.1 1.8 ## Li, 2001 0.3333 [0.1459; 0.5697] 0.1 1.3 ## Lopez, 2005 0.6009 [0.5341; 0.6650] 1.1 1.9 ## Modrego, 2004 0.3684 [0.2800; 0.4639] 0.6 1.8 ## Muangpaisan, 2008 0.4545 [0.3406; 0.5721] 0.4 1.7 ## Palmer, 2010 0.5038 [0.4152; 0.5923] 0.6 1.8 ## Rozzini, 2008 0.4133 [0.3336; 0.4965] 0.7 1.8 ## Serra, 2010 0.5263 [0.2886; 0.7555] 0.1 1.3 ## Snowden, 2014 0.1399 [0.1319; 0.1482] 34.7 1.9 ## Van der Mussele, 2014 0.2295 [0.1707; 0.2973] 0.9 1.8 ## Vaughn, 2009 0.4250 [0.3151; 0.5406] 0.4 1.7 ## Zhang, 2012 0.2632 [0.1340; 0.4310] 0.2 1.5 ## ## Number of studies combined: k = 57 ## ## proportion 95%-CI z p-value ## Fixed effect model 0.2124 [0.2067; 0.2181] -- -- ## Random effects model 0.3165 [0.2768; 0.3576] -- -- ## ## Quantifying heterogeneity: ## tau^2 = 0.0248; H = 5.67 [5.30; 6.08]; I^2 = 96.9% [96.4%; 97.3%] ## ## Test of heterogeneity: ## Q d.f. p-value ## 1802.03 56 0 ## ## Details on meta-analytical method: ## - Inverse variance method ## - DerSimonian-Laird estimator for tau^2 ## - Freeman-Tukey double arcsine transformation ## - Clopper-Pearson confidence interval for individual studies 1.3b. Forest plot forest(ismail.ft) Again, if the forest plot cannot be seen fully, we can save this plot as pdf file. pdf(&quot;~/Desktop/meta/Lab_day2/ismail_FT.pdf&quot;,height=15,width=12) forest(ismail.ft) dev.off() ## quartz_off_screen ## 2 1.4 Method 4 - GLMM Method for prevalence data 1.4a. Use lme4 to carry out the meta-analysis The first method of GLMM method for prevalence meta analysis is to use the lme4 package. However, this package is not sepcially designed for meta analysis, so some results and some plots cannot be obtained by it. But this package is more flexible for any kind of data. ismail.glm &lt;- glmer(events/numberofparticipants ~ (1 | AuthorYear), data = ismail, binomial, weights=numberofparticipants, nAGQ = 10) ismail.glm ## Generalized linear mixed model fit by maximum likelihood (Adaptive ## Gauss-Hermite Quadrature, nAGQ = 10) [glmerMod] ## Family: binomial ( logit ) ## Formula: events/numberofparticipants ~ (1 | AuthorYear) ## Data: ismail ## Weights: numberofparticipants ## AIC BIC logLik deviance df.resid ## 222 226 -109 218 55 ## Random effects: ## Groups Name Std.Dev. ## AuthorYear (Intercept) 0.73 ## Number of obs: 57, groups: AuthorYear, 57 ## Fixed Effects: ## (Intercept) ## -0.809 It is exactly a Random Intercept Logistic Regression Model. nAGQ is integer scalar, which means the number of points per axis for evaluating the adaptive Gauss-Hermite approximation to the log-likelihood. Different nAGQ may give different model performance. weights is an optional vector of ‘prior weights’ to be used in the fitting process. You can see the details by typing help(&quot;glmer&quot;). To see the summary of the model, please type summary(ismail.glm) ## Generalized linear mixed model fit by maximum likelihood (Adaptive ## Gauss-Hermite Quadrature, nAGQ = 10) [glmerMod] ## Family: binomial ( logit ) ## Formula: events/numberofparticipants ~ (1 | AuthorYear) ## Data: ismail ## Weights: numberofparticipants ## ## AIC BIC logLik deviance df.resid ## 222 226 -109 218 55 ## ## Scaled residuals: ## Min 1Q Median 3Q Max ## -0.538 -0.136 0.038 0.217 1.078 ## ## Random effects: ## Groups Name Variance Std.Dev. ## AuthorYear (Intercept) 0.533 0.73 ## Number of obs: 57, groups: AuthorYear, 57 ## ## Fixed effects: ## Estimate Std. Error z value Pr(&gt;|z|) ## (Intercept) -0.809 0.101 -7.99 1.3e-15 *** ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 You can see that the standard deviation of random effets Std.Dev = 0.73, which is exactly the square root of estimated tau^2. So you can type the command tau_square = 0.73^2 to obtain the estimated tau^2. tau_square = 0.73^2 tau_square ## [1] 0.533 Then, the random intercept is -0.809, which can be transformed to pooled prevalence by \\(p=exp(b0)/(1+exp(b0))\\). Now type : pool_p = exp(-0.809)/(1+exp(-0.809)) pool_p ## [1] 0.308 You can see that the pooled prevalence of GLMM method is 0.308. 1.4b. Use metaprop to carry out the meta-analysis Similar to Transformation methods above, the GLMM method can be also conducted by using metaprop command in meta package. The only difference is that GLMM uses method =&quot;GLMM&quot; instead of method =&quot;Inverse&quot;. ismail.glmm &lt;- metaprop(event = events, n = numberofparticipants, studlab = AuthorYear, data = ismail, method = &quot;GLMM&quot;) ismail.glmm ## proportion 95%-CI %W(fixed) %W(random) ## Baiyewu, 2012 0.4528 [0.3156; 0.5955] -- -- ## Brodaty, 2012 0.1505 [0.1131; 0.1945] -- -- ## Chan, 2003 0.1570 [0.0973; 0.2343] -- -- ## Chan, 2010 0.1391 [0.1040; 0.1806] -- -- ## Colenda, 2010 0.2186 [0.1653; 0.2799] -- -- ## Dlugaj, 2015 0.1698 [0.1402; 0.2028] -- -- ## Feng, 2009 0.1128 [0.0645; 0.1792] -- -- ## ?Hinton, 2003 0.4386 [0.3074; 0.5764] -- -- ## Juarez-Cedillo, 2012 0.1526 [0.1047; 0.2118] -- -- ## Kumar, 2006 0.1724 [0.0585; 0.3577] -- -- ## Lam, 2007 0.1590 [0.1106; 0.2180] -- -- ## Lopez-Anton, 2015 0.3498 [0.2979; 0.4046] -- -- ## Luppa, 2012 0.4872 [0.4065; 0.5684] -- -- ## Lyketsos, 2002 0.2594 [0.2122; 0.3111] -- -- ## Moretti, 2013 0.1499 [0.1343; 0.1666] -- -- ## O&#39;Bryant, 2013 0.3476 [0.2750; 0.4257] -- -- ## Okura, 2010 0.2899 [0.2331; 0.3520] -- -- ## Palmer, 2007 0.3404 [0.2086; 0.4931] -- -- ## ?Peters, 2012 0.1691 [0.1366; 0.2057] -- -- ## Pink , 2015 0.2500 [0.2043; 0.3002] -- -- ## Potvin, 2012 0.1111 [0.0739; 0.1586] -- -- ## Ravaglia, 2008 0.4444 [0.3272; 0.5664] -- -- ## Richard, 2013 0.2401 [0.2004; 0.2834] -- -- ## Solfrizzi, 2007 0.6331 [0.5472; 0.7132] -- -- ## Tatsch, 2006 0.2400 [0.0936; 0.4513] -- -- ## Van der Linde, 2010 0.1491 [0.1152; 0.1884] -- -- ## Weyerer, 2008 0.1297 [0.1075; 0.1547] -- -- ## Yaffe, 2011 0.1794 [0.1377; 0.2275] -- -- ## Chao, 2014 0.3469 [0.2167; 0.4964] -- -- ## Chilovi, 2009 0.4677 [0.3776; 0.5594] -- -- ## Chiu, 2007 0.4146 [0.2632; 0.5789] -- -- ## Di Iulio, 2010 0.3810 [0.2959; 0.4717] -- -- ## Edwards, 2009 0.3493 [0.3084; 0.3920] -- -- ## Elfgren, 2010 0.3182 [0.1386; 0.5487] -- -- ## Feldman, 2004 0.4806 [0.4397; 0.5217] -- -- ## Fern?ndez-Mart?nez, 2010 0.3297 [0.2347; 0.4361] -- -- ## Forrester, 2015 0.2196 [0.1808; 0.2623] -- -- ## Gabryelewicz, 2004 0.4706 [0.3710; 0.5720] -- -- ## Gallagher, 2011 0.2422 [0.1783; 0.3159] -- -- ## Gallassi, 2008 0.7959 [0.6566; 0.8976] -- -- ## Hudon, 2008 0.3864 [0.2436; 0.5450] -- -- ## Kim, 2015 0.5102 [0.4690; 0.5512] -- -- ## Kosteniuk, 2014 0.5098 [0.3660; 0.6525] -- -- ## Lach, 2010 0.5965 [0.4582; 0.7244] -- -- ## Lee, 2008 0.1990 [0.1601; 0.2426] -- -- ## Lehrner, 2014 0.4791 [0.4107; 0.5481] -- -- ## Li, 2001 0.3333 [0.1459; 0.5697] -- -- ## Lopez, 2005 0.6009 [0.5341; 0.6650] -- -- ## Modrego, 2004 0.3684 [0.2800; 0.4639] -- -- ## Muangpaisan, 2008 0.4545 [0.3406; 0.5721] -- -- ## Palmer, 2010 0.5038 [0.4152; 0.5923] -- -- ## Rozzini, 2008 0.4133 [0.3336; 0.4965] -- -- ## Serra, 2010 0.5263 [0.2886; 0.7555] -- -- ## Snowden, 2014 0.1399 [0.1319; 0.1482] -- -- ## Van der Mussele, 2014 0.2295 [0.1707; 0.2973] -- -- ## Vaughn, 2009 0.4250 [0.3151; 0.5406] -- -- ## Zhang, 2012 0.2632 [0.1340; 0.4310] -- -- ## ## Number of studies combined: k = 57 ## ## proportion 95%-CI z p-value ## Fixed effect model 0.2248 [0.2191; 0.2305] -- -- ## Random effects model 0.3081 [0.2675; 0.3519] -- -- ## ## Quantifying heterogeneity: ## tau^2 = 0.5327; H = 5.35; I^2 = 96.5% ## ## Test of heterogeneity: ## Q d.f. p-value Test ## 1788.55 56 0 Wald-type ## 1844.15 56 0 Likelihood-Ratio ## ## Details on meta-analytical method: ## - Random intercept logistic regression model ## - Maximum-likelihood estimator for tau^2 ## - Logit transformation ## - Clopper-Pearson confidence interval for individual studies As you can see, the tau^2 is 0.5327 and the pooled prevalence is 0.3081, and each is the same as the result we calculated from the GLMM result of lme4, respectively. "],
["exercise-2-nibali-incidence-data.html", "Exercise 2 - nibali (Incidence data)", " Exercise 2 - nibali (Incidence data) # Read data - nibali nibali &lt;- read.csv(&quot;~/Desktop/meta/Lab_day2/Nibali.csv&quot;) print(nibali) ## id authoryear toothloss patientyr type mixed ## 1 1 Waerhaug 1977 53 388 mixed 1 ## 2 3 Saxen 1986 18 168 mixed 1 ## 3 8 Brown/Albandar 1996 (LJP) 46 252 localised 0 ## 4 9 Brown/Albandar 1996 (GAgP) 11 132 generalised 0 ## 5 11 Kamma 2003 26 125 generalised 0 ## 6 13 Mros 2010 2 182 localised 0 ## 7 14 Graetz 2011 72 547 mixed 1 ## 8 15 Baumer 2011 (LAgP) 3 136 localised 0 ## 9 16 Baumer 2011 (GAgP) 110 746 generalised 0 ## localised generalised rate ## 1 0 0 0.136 ## 2 0 0 0.107 ## 3 1 0 0.183 ## 4 0 1 0.083 ## 5 0 1 0.208 ## 6 1 0 0.011 ## 7 0 0 0.132 ## 8 1 0 0.022 ## 9 0 1 0.148 Table 4.2: A table of the first 5 rows of Nibali data. AuthorYear countrycontinent numberofparticipants rate events diagnosisofdepression referralsource author year referral ratevar ratese Baiyewu, 2012 Nigeria, Africa 53 0.46 24 NPI Community-Based ?Baiyewu 2012 1 0.005 0.068 Brodaty, 2012 Australia, Australia 319 0.15 48 NPI Community-Based Brodaty 2012 1 0.000 0.020 Chan, 2003 USA, North America 121 0.16 19 NPI Community-Based Chan 2003 1 0.001 0.033 Chan, 2010 Hong Kong, Asia 338 0.14 47 NPI Community-Based Chan 2010 1 0.000 0.019 Colenda, 2010 USA, North America 215 0.22 47 DSM Community-Based Colenda 2010 1 0.001 0.028 The meaning of covariates in data Covariates Meaning authoryear name of study toothloss number of toothless events patientyr person-time rate incidence 2.1 Log Transformation 2.1a. Generate the log transformation of rate and standard error First of all, we have to generate new variables for the log transformation of the rate and the standard error of the transformed rate. You can find the details for the formula on page 58 of the handout. So, the code for transforming the rate is: # Log transformation nibali$lograte &lt;- log(nibali$rate) # log rate nibali$selnrate &lt;- 1/(sqrt(nibali$toothloss)) # standard error of log rate 2.1b. Use metagen to carry out the meta-analysis # Use metagen to carry out the meta-analysis nibali.gen&lt;-metagen(lograte, selnrate, studlab = authoryear, data = nibali) nibali.gen ## 95%-CI %W(fixed) %W(random) ## Waerhaug 1977 -1.9951 [-2.2643; -1.7259] 15.5 14.6 ## Saxen 1986 -2.2349 [-2.6969; -1.7730] 5.3 11.2 ## Brown/Albandar 1996 (LJP) -1.6983 [-1.9873; -1.4093] 13.5 14.3 ## Brown/Albandar 1996 (GAgP) -2.4889 [-3.0799; -1.8980] 3.2 9.1 ## Kamma 2003 -1.5702 [-1.9546; -1.1858] 7.6 12.6 ## Mros 2010 -4.5099 [-5.8958; -3.1240] 0.6 2.9 ## Graetz 2011 -2.0250 [-2.2559; -1.7940] 21.1 15.3 ## Baumer 2011 (LAgP) -3.8167 [-4.9483; -2.6851] 0.9 4.0 ## Baumer 2011 (GAgP) -1.9105 [-2.0974; -1.7237] 32.3 15.9 ## ## Number of studies combined: k = 9 ## ## 95%-CI z p-value ## Fixed effect model -1.9611 [-2.0672; -1.8549] -36.21 &lt; 0.0001 ## Random effects model -2.1093 [-2.3688; -1.8497] -15.93 &lt; 0.0001 ## ## Quantifying heterogeneity: ## tau^2 = 0.1010; H = 2.11 [1.53; 2.90]; I^2 = 77.5% [57.2%; 88.1%] ## ## Test of heterogeneity: ## Q d.f. p-value ## 35.52 8 &lt; 0.0001 ## ## Details on meta-analytical method: ## - Inverse variance method ## - DerSimonian-Laird estimator for tau^2 2.1c. Forest plot forest(nibali.gen) You can save this plot as pdf file by using the following command. pdf(&quot;~/Desktop/meta/Lab_day2/nibali_log.pdf&quot;,height=5,width=8) forest(nibali.gen) dev.off() ## quartz_off_screen ## 2 So, the pooled incidence rate of fixed effect model is #incidence rate# exp(-1.96) ## [1] 0.141 And the duration of disease is #duration of disease 1/exp(-1.96) ## [1] 7.1 2.2 GLMM Method for incidence data Here, we use the commandglmer in lme4 package to conduct the GLMM for incidence data. You can see the details by typing help(&quot;glmer&quot;). nibali.glm &lt;- glmer(toothloss/patientyr ~ (1 | authoryear), data = nibali, poisson(link = &quot;log&quot;),weights = patientyr,nAGQ = 10) summary(nibali.glm) ## Generalized linear mixed model fit by maximum likelihood (Adaptive ## Gauss-Hermite Quadrature, nAGQ = 10) [glmerMod] ## Family: poisson ( log ) ## Formula: toothloss/patientyr ~ (1 | authoryear) ## Data: nibali ## Weights: patientyr ## ## AIC BIC logLik deviance df.resid ## 38.2 38.6 -17.1 34.2 7 ## ## Scaled residuals: ## Min 1Q Median 3Q Max ## -1.1562 -0.0548 0.0708 0.0908 0.2713 ## ## Random effects: ## Groups Name Variance Std.Dev. ## authoryear (Intercept) 0.552 0.743 ## Number of obs: 9, groups: authoryear, 9 ## ## Fixed effects: ## Estimate Std. Error z value Pr(&gt;|z|) ## (Intercept) -2.367 0.268 -8.84 &lt;2e-16 *** ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 It is exactly a Random Intercept Poisson Regression Model. You can see that the fixed effect is -2.37, which can be transformed to the pooled incidence rate by typing exp(-2.37). #incidence rate exp(-2.37) ## [1] 0.0935 And the duration of disease can be also obtained. #duration of disease 1/exp(-2.37) ## [1] 10.7 "],
["exercise-3-suvival-data.html", "Exercise 3 - Suvival data", " Exercise 3 - Suvival data 3.1 Scenario 1 - Reporting HR and its CI For Scenario 1, we have to use metagen to carry out meta analysis. First, we read the data. # Read data - Chevalier chevalier &lt;- read.csv(&quot;~/Desktop/meta/Lab_day2/Chevalier.csv&quot;) print(chevalier) ## study year hr lci uci ## 1 Cardenal 1999 0.77 0.55 1.10 ## 2 Crino 1999 1.02 0.78 1.33 ## 3 Danson 2001 1.12 0.88 1.42 ## 4 Melo MV 2002 0.54 0.32 0.93 ## 5 Rudd 2002 0.76 0.61 0.93 ## 6 Sandler 2000 0.76 0.63 0.92 ## 7 Chang 2001 0.93 0.40 2.16 ## 8 Comella 2000 0.71 0.45 1.13 ## 9 Gridelli 2002 1.02 0.76 1.35 ## 10 Melo VC 2002 0.71 0.41 1.22 ## 11 Scagliotti VC 2002 0.87 0.69 1.09 ## 12 Scagliotti PCb 2002 1.04 0.83 1.31 ## 13 Schiller DC 2002 0.94 0.79 1.14 ## 14 Schiller PC 2002 0.92 0.76 1.10 ## 15 Schiller PCb 2002 0.96 0.80 1.15 ## 16 Thomas 2002 0.89 0.53 1.49 ## 17 Van Meerbeeck 2001 0.90 0.65 1.25 3.1a. Generate the variables for metagen Then, we have to create the necessary variables for metagen, including the “log(HR)” and the “se(log(HR))”. chevalier$loghr &lt;- log(chevalier$hr) # log hazard ratio chevalier$loglci &lt;- log(chevalier$lci) # lower bond of log hazard ratio chevalier$loguci &lt;- log(chevalier$uci) # upper bond of log hazard ratio chevalier$seloghr &lt;- (chevalier$loguci-chevalier$loglci)/3.92 # Standard error of log hazard ratio chevalier$varloghr&lt;-chevalier$seloghr^2 3.1b. Use metagen to carry out meta analysis # run meta-analysis chevalier.gen &lt;- metagen(loghr, seloghr, studlab = study, sm = &quot;HR&quot;, data = chevalier) chevalier.gen ## HR 95%-CI %W(fixed) %W(random) ## Cardenal 0.7700 [0.5445; 1.0889] 3.3 3.7 ## Crino 1.0200 [0.7811; 1.3319] 5.5 5.9 ## Danson 1.1200 [0.8817; 1.4227] 6.8 7.1 ## Melo MV 0.5400 [0.3168; 0.9206] 1.4 1.6 ## Rudd 0.7600 [0.6155; 0.9384] 8.8 8.7 ## Sandler 0.7600 [0.6289; 0.9184] 10.9 10.2 ## Chang 0.9300 [0.4002; 2.1611] 0.5 0.7 ## Comella 0.7100 [0.4481; 1.1251] 1.8 2.2 ## Gridelli 1.0200 [0.7653; 1.3594] 4.7 5.2 ## Melo VC 0.7100 [0.4116; 1.2247] 1.3 1.6 ## Scagliotti VC 0.8700 [0.6922; 1.0935] 7.5 7.6 ## Scagliotti PCb 1.0400 [0.8278; 1.3066] 7.5 7.6 ## Schiller DC 0.9400 [0.7825; 1.1292] 11.6 10.7 ## Schiller PC 0.9200 [0.7647; 1.1068] 11.4 10.6 ## Schiller PCb 0.9600 [0.8007; 1.1510] 11.9 10.9 ## Thomas 0.8900 [0.5308; 1.4922] 1.5 1.7 ## Van Meerbeeck 0.9000 [0.6490; 1.2481] 3.7 4.1 ## ## Number of studies combined: k = 17 ## ## HR 95%-CI z p-value ## Fixed effect model 0.8986 [0.8442; 0.9565] -3.35 0.0008 ## Random effects model 0.8971 [0.8367; 0.9619] -3.05 0.0023 ## ## Quantifying heterogeneity: ## tau^2 = 0.0031; H = 1.08 [1.00; 1.43]; I^2 = 14.7% [0.0%; 51.2%] ## ## Test of heterogeneity: ## Q d.f. p-value ## 18.75 16 0.2817 ## ## Details on meta-analytical method: ## - Inverse variance method ## - DerSimonian-Laird estimator for tau^2 3.1c. Forest plot forest(chevalier.gen) 3.2 Scenario 2 - Reporting median survival time For Scenario 2, we also use metagen to carry out meta analysis. But we have to transform median survival time to hazard ratio. First, we read the data. # Read data - Zhang zhang &lt;- read.csv(&quot;~/Desktop/meta/Lab_day2/Zhang.csv&quot;) print(zhang) ## study year m1 m2 totals lnmsr selnmsr group ## 1 Fidias 2009 5.7 2.7 309 -0.747 0.0569 Cytotoxic Agents ## 2 Ciuleanu 2009 4.3 2.6 663 -0.503 0.0388 Cytotoxic Agents ## 3 Miller 2009 4.8 3.7 768 -0.260 0.0361 Molecular-targeted Agents ## 4 Cappuzzo 2010 3.1 2.8 889 -0.102 0.0335 Molecular-targeted Agents ## 5 Perol 2010 2.9 1.9 310 -0.423 0.0568 Molecular-targeted Agents ## 6 Surmont 2010 4.1 2.9 173 -0.346 0.0760 Molecular-targeted Agents 3.2a. Transform median survival time to hazard ratio Then, we have to transform median survival time to hazard ratio by typing the following command. zhang$logmsr = log(zhang$m2/zhang$m1) # log hazard ratio zhang$selogmsr = sqrt(1/zhang$totals) # standard error of log hazard ratio 3.2b. Use metagen to carry out meta analysis # run meta-analysis zhang.gen &lt;- metagen(logmsr, selogmsr, studlab = study, sm = &quot;HR&quot;, data = zhang) zhang.gen ## HR 95%-CI %W(fixed) %W(random) ## Fidias 0.4737 [0.4237; 0.5296] 9.9 16.5 ## Ciuleanu 0.6047 [0.5603; 0.6525] 21.3 17.0 ## Miller 0.7708 [0.7182; 0.8273] 24.7 17.1 ## Cappuzzo 0.9032 [0.8458; 0.9646] 28.6 17.2 ## Perol 0.6552 [0.5862; 0.7323] 10.0 16.5 ## Surmont 0.7073 [0.6094; 0.8210] 5.6 15.7 ## ## Number of studies combined: k = 6 ## ## HR 95%-CI z p-value ## Fixed effect model 0.7146 [0.6899; 0.7401] -18.75 &lt; 0.0001 ## Random effects model 0.6737 [0.5613; 0.8086] -4.24 &lt; 0.0001 ## ## Quantifying heterogeneity: ## tau^2 = 0.0494; H = 5.03 [3.93; 6.42]; I^2 = 96.0% [93.5%; 97.6%] ## ## Test of heterogeneity: ## Q d.f. p-value ## 126.29 5 &lt; 0.0001 ## ## Details on meta-analytical method: ## - Inverse variance method ## - DerSimonian-Laird estimator for tau^2 3.2c. Forest plot forest(zhang.gen) "]
]
