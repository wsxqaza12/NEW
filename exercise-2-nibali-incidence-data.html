<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Exercise 2 - nibali (Incidence data) | [NTU 108] Meta analysis</title>
  <meta name="description" content="Exercise 2 - nibali (Incidence data) | [NTU 108] Meta analysis" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Exercise 2 - nibali (Incidence data) | [NTU 108] Meta analysis" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="wsxqaza12/NTU-108-Meta-Analysis" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Exercise 2 - nibali (Incidence data) | [NTU 108] Meta analysis" />
  
  
  

<meta name="author" content="林先和 杜裕康 張齡尹" />


<meta name="date" content="2020-01-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exercise-1-ismail-prevalence-data.html"/>
<link rel="next" href="exercise-3-suvival-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link rel="icon" href="images/LOGO.ico" type="image/x-icon" / >
<link rel="shortcut icon" href="images/LOGO.ico" type="image/x-icon" / >


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">[NTU 108] Meta analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index1.html"><a href="index1.html"><i class="fa fa-check"></i>Description</a></li>
<li class="chapter" data-level="1" data-path="strart-r.html"><a href="strart-r.html"><i class="fa fa-check"></i><b>1</b> Strart R</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1.1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#installing-r-rstudio"><i class="fa fa-check"></i>Installing R &amp; RStudio</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#start-r"><i class="fa fa-check"></i>Start R!</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#open-script"><i class="fa fa-check"></i>Open script</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#install-packages"><i class="fa fa-check"></i>Install packages</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#getting-help"><i class="fa fa-check"></i>Getting help</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#read-data"><i class="fa fa-check"></i>Read data</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#save-and-open-a-r-file-.rdata"><i class="fa fa-check"></i>Save and open a R file (.RData)</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="meta-metafor-packages.html"><a href="meta-metafor-packages.html"><i class="fa fa-check"></i><b>1.2</b> <code>meta</code> &amp; <code>metafor</code> packages</a><ul>
<li><a href="meta-metafor-packages.html#brief-introduction-of-meta-packages">Brief introduction of <code>meta</code> packages</a></li>
<li><a href="meta-metafor-packages.html#brief-introduction-of-metafor-packages">Brief introduction of <code>metafor</code> packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="binary-and-continuous-data.html"><a href="binary-and-continuous-data.html"><i class="fa fa-check"></i><b>2</b> Binary and Continuous data</a><ul>
<li class="chapter" data-level="" data-path="example-1-bcg.html"><a href="example-1-bcg.html"><i class="fa fa-check"></i>Example 1 - BCG</a><ul>
<li class="chapter" data-level="" data-path="example-1-bcg.html"><a href="example-1-bcg.html#a.-four-variables-2x2-data"><i class="fa fa-check"></i>1a. Four variables (2x2 data)</a></li>
<li class="chapter" data-level="" data-path="example-1-bcg.html"><a href="example-1-bcg.html#b.-two-variables"><i class="fa fa-check"></i>1b. Two variables</a></li>
<li class="chapter" data-level="" data-path="example-1-bcg.html"><a href="example-1-bcg.html#c.-alternative-methods-for-fixed-effect-analysis"><i class="fa fa-check"></i>1c. Alternative methods for fixed-effect analysis</a></li>
<li class="chapter" data-level="" data-path="example-1-bcg.html"><a href="example-1-bcg.html#d.-random-effects-model"><i class="fa fa-check"></i>1d. Random-effects model</a></li>
<li class="chapter" data-level="" data-path="example-1-bcg.html"><a href="example-1-bcg.html#e.-heterogeneity-assessment"><i class="fa fa-check"></i>1e. Heterogeneity assessment</a></li>
<li class="chapter" data-level="" data-path="example-1-bcg.html"><a href="example-1-bcg.html#f.-exploring-the-source-of-heterogeneity"><i class="fa fa-check"></i>1f. Exploring the source of heterogeneity</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="example-2-rimonabant.html"><a href="example-2-rimonabant.html"><i class="fa fa-check"></i>Example 2 - Rimonabant</a><ul>
<li class="chapter" data-level="" data-path="example-2-rimonabant.html"><a href="example-2-rimonabant.html#a.-six-variables"><i class="fa fa-check"></i>2a. Six variables</a></li>
<li class="chapter" data-level="" data-path="example-2-rimonabant.html"><a href="example-2-rimonabant.html#b.-two-variables-1"><i class="fa fa-check"></i>2b. Two variables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="example-3-passive-smoking.html"><a href="example-3-passive-smoking.html"><i class="fa fa-check"></i>Example 3 - Passive smoking</a><ul>
<li class="chapter" data-level="" data-path="example-3-passive-smoking.html"><a href="example-3-passive-smoking.html#a.-funnel-plot-using-the-original-odds-ratio"><i class="fa fa-check"></i>3a. Funnel plot using the original odds ratio</a></li>
<li class="chapter" data-level="" data-path="example-3-passive-smoking.html"><a href="example-3-passive-smoking.html#b.-contour-enhanced-funnel-plot"><i class="fa fa-check"></i>3b. Contour-enhanced funnel plot</a></li>
<li class="chapter" data-level="" data-path="example-3-passive-smoking.html"><a href="example-3-passive-smoking.html#c.-statistical-test-for-funnel-plot-asymmetry"><i class="fa fa-check"></i>3c. Statistical test for funnel plot asymmetry</a></li>
<li class="chapter" data-level="" data-path="example-3-passive-smoking.html"><a href="example-3-passive-smoking.html#d.-using-the-trim-and-fill-method"><i class="fa fa-check"></i>3d. Using the trim and fill method</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="diagnostic-test.html"><a href="diagnostic-test.html"><i class="fa fa-check"></i><b>3</b> Diagnostic Test</a><ul>
<li class="chapter" data-level="" data-path="exercise-1-nishiumra.html"><a href="exercise-1-nishiumra.html"><i class="fa fa-check"></i>Exercise 1 - Nishiumra</a><ul>
<li class="chapter" data-level="" data-path="exercise-1-nishiumra.html"><a href="exercise-1-nishiumra.html#a.-univariate-analysis"><i class="fa fa-check"></i>1a. Univariate Analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-1-nishiumra.html"><a href="exercise-1-nishiumra.html#b.-forest-plot"><i class="fa fa-check"></i>1b. Forest plot</a></li>
<li class="chapter" data-level="" data-path="exercise-1-nishiumra.html"><a href="exercise-1-nishiumra.html#c.-bivariate-analysis"><i class="fa fa-check"></i>1c. Bivariate Analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-1-nishiumra.html"><a href="exercise-1-nishiumra.html#d.-sroc"><i class="fa fa-check"></i>1d. SROC</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-2-tseng.html"><a href="exercise-2-tseng.html"><i class="fa fa-check"></i>Exercise 2 - Tseng</a><ul>
<li class="chapter" data-level="" data-path="exercise-2-tseng.html"><a href="exercise-2-tseng.html#a.-univariate-analysis-1"><i class="fa fa-check"></i>2a. Univariate Analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-2-tseng.html"><a href="exercise-2-tseng.html#b.-forest-plot-1"><i class="fa fa-check"></i>2b. Forest plot</a></li>
<li class="chapter" data-level="" data-path="exercise-2-tseng.html"><a href="exercise-2-tseng.html#c.-bivariate-analysis-1"><i class="fa fa-check"></i>2c. Bivariate Analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-2-tseng.html"><a href="exercise-2-tseng.html#d.-sroc-1"><i class="fa fa-check"></i>2d. SROC</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-3-cbcl.html"><a href="exercise-3-cbcl.html"><i class="fa fa-check"></i>Exercise 3 - CBCL</a><ul>
<li class="chapter" data-level="" data-path="exercise-3-cbcl.html"><a href="exercise-3-cbcl.html#a.-univariate-analysis-2"><i class="fa fa-check"></i>3a. Univariate Analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-3-cbcl.html"><a href="exercise-3-cbcl.html#b.-forest-plot-2"><i class="fa fa-check"></i>3b. Forest plot</a></li>
<li class="chapter" data-level="" data-path="exercise-3-cbcl.html"><a href="exercise-3-cbcl.html#c.-bivariate-analysis-2"><i class="fa fa-check"></i>3c. Bivariate Analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-3-cbcl.html"><a href="exercise-3-cbcl.html#d.-sroc-2"><i class="fa fa-check"></i>3d. SROC</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="prevalence-and-survival-data.html"><a href="prevalence-and-survival-data.html"><i class="fa fa-check"></i><b>4</b> Prevalence and Survival data</a><ul>
<li class="chapter" data-level="" data-path="exercise-1-ismail-prevalence-data.html"><a href="exercise-1-ismail-prevalence-data.html"><i class="fa fa-check"></i>Exercise 1 - ismail (Prevalence data)</a><ul>
<li class="chapter" data-level="" data-path="exercise-1-ismail-prevalence-data.html"><a href="exercise-1-ismail-prevalence-data.html#method-1---binomial-distribution"><i class="fa fa-check"></i>1.1 Method 1 - Binomial distribution</a></li>
<li class="chapter" data-level="" data-path="exercise-1-ismail-prevalence-data.html"><a href="exercise-1-ismail-prevalence-data.html#method-2---logit-transformation"><i class="fa fa-check"></i>1.2 Method 2 - Logit Transformation</a></li>
<li class="chapter" data-level="" data-path="exercise-1-ismail-prevalence-data.html"><a href="exercise-1-ismail-prevalence-data.html#method-3---freeman-tukey-double-arcsine-transformation"><i class="fa fa-check"></i>1.3 Method 3 - Freeman-Tukey Double Arcsine Transformation</a></li>
<li class="chapter" data-level="" data-path="exercise-1-ismail-prevalence-data.html"><a href="exercise-1-ismail-prevalence-data.html#method-4---glmm-method-for-prevalence-data"><i class="fa fa-check"></i>1.4 Method 4 - GLMM Method for prevalence data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-2-nibali-incidence-data.html"><a href="exercise-2-nibali-incidence-data.html"><i class="fa fa-check"></i>Exercise 2 - nibali (Incidence data)</a><ul>
<li class="chapter" data-level="" data-path="exercise-2-nibali-incidence-data.html"><a href="exercise-2-nibali-incidence-data.html#log-transformation"><i class="fa fa-check"></i>2.1 Log Transformation</a></li>
<li class="chapter" data-level="" data-path="exercise-2-nibali-incidence-data.html"><a href="exercise-2-nibali-incidence-data.html#glmm-method-for-incidence-data"><i class="fa fa-check"></i>2.2 GLMM Method for incidence data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-3-suvival-data.html"><a href="exercise-3-suvival-data.html"><i class="fa fa-check"></i>Exercise 3 - Suvival data</a><ul>
<li class="chapter" data-level="" data-path="exercise-3-suvival-data.html"><a href="exercise-3-suvival-data.html#scenario-1---reporting-hr-and-its-ci"><i class="fa fa-check"></i>3.1 Scenario 1 - Reporting HR and its CI</a></li>
<li class="chapter" data-level="" data-path="exercise-3-suvival-data.html"><a href="exercise-3-suvival-data.html#scenario-2---reporting-median-survival-time"><i class="fa fa-check"></i>3.2 Scenario 2 - Reporting median survival time</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/wsxqaza12/NTU-108-Meta-Analysis" target="blank">Published in Github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">[NTU 108] Meta analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise-2---nibali-incidence-data" class="section level2 unnumbered">
<h2>Exercise 2 - nibali (Incidence data)</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co"># Read data - nibali</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">nibali &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;~/Desktop/meta/Lab_day2/Nibali.csv&quot;</span>)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="kw">print</span>(nibali)</a></code></pre></div>
<pre><code>##   id                 authoryear toothloss patientyr        type mixed
## 1  1              Waerhaug 1977        53       388       mixed     1
## 2  3                 Saxen 1986        18       168       mixed     1
## 3  8  Brown/Albandar 1996 (LJP)        46       252   localised     0
## 4  9 Brown/Albandar 1996 (GAgP)        11       132 generalised     0
## 5 11                 Kamma 2003        26       125 generalised     0
## 6 13                  Mros 2010         2       182   localised     0
## 7 14                Graetz 2011        72       547       mixed     1
## 8 15         Baumer 2011 (LAgP)         3       136   localised     0
## 9 16         Baumer 2011 (GAgP)       110       746 generalised     0
##   localised generalised  rate
## 1         0           0 0.136
## 2         0           0 0.107
## 3         1           0 0.183
## 4         0           1 0.083
## 5         0           1 0.208
## 6         1           0 0.011
## 7         0           0 0.132
## 8         1           0 0.022
## 9         0           1 0.148</code></pre>
<table>
<caption><span id="tab:nibali-data">Table 4.2: </span>A table of the first 5 rows of Nibali data.</caption>
<thead>
<tr class="header">
<th align="left">AuthorYear</th>
<th align="left">countrycontinent</th>
<th align="right">numberofparticipants</th>
<th align="right">rate</th>
<th align="right">events</th>
<th align="left">diagnosisofdepression</th>
<th align="left">referralsource</th>
<th align="left">author</th>
<th align="right">year</th>
<th align="right">referral</th>
<th align="right">ratevar</th>
<th align="right">ratese</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Baiyewu, 2012</td>
<td align="left">Nigeria, Africa</td>
<td align="right">53</td>
<td align="right">0.46</td>
<td align="right">24</td>
<td align="left">NPI</td>
<td align="left">Community-Based</td>
<td align="left">?Baiyewu</td>
<td align="right">2012</td>
<td align="right">1</td>
<td align="right">0.005</td>
<td align="right">0.068</td>
</tr>
<tr class="even">
<td align="left">Brodaty, 2012</td>
<td align="left">Australia, Australia</td>
<td align="right">319</td>
<td align="right">0.15</td>
<td align="right">48</td>
<td align="left">NPI</td>
<td align="left">Community-Based</td>
<td align="left">Brodaty</td>
<td align="right">2012</td>
<td align="right">1</td>
<td align="right">0.000</td>
<td align="right">0.020</td>
</tr>
<tr class="odd">
<td align="left">Chan, 2003</td>
<td align="left">USA, North America</td>
<td align="right">121</td>
<td align="right">0.16</td>
<td align="right">19</td>
<td align="left">NPI</td>
<td align="left">Community-Based</td>
<td align="left">Chan</td>
<td align="right">2003</td>
<td align="right">1</td>
<td align="right">0.001</td>
<td align="right">0.033</td>
</tr>
<tr class="even">
<td align="left">Chan, 2010</td>
<td align="left">Hong Kong, Asia</td>
<td align="right">338</td>
<td align="right">0.14</td>
<td align="right">47</td>
<td align="left">NPI</td>
<td align="left">Community-Based</td>
<td align="left">Chan</td>
<td align="right">2010</td>
<td align="right">1</td>
<td align="right">0.000</td>
<td align="right">0.019</td>
</tr>
<tr class="odd">
<td align="left">Colenda, 2010</td>
<td align="left">USA, North America</td>
<td align="right">215</td>
<td align="right">0.22</td>
<td align="right">47</td>
<td align="left">DSM</td>
<td align="left">Community-Based</td>
<td align="left">Colenda</td>
<td align="right">2010</td>
<td align="right">1</td>
<td align="right">0.001</td>
<td align="right">0.028</td>
</tr>
</tbody>
</table>
<p>The meaning of covariates in data</p>
<table>
<thead>
<tr class="header">
<th align="left">Covariates</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">authoryear</td>
<td align="left">name of study</td>
</tr>
<tr class="even">
<td align="left">toothloss</td>
<td align="left">number of toothless events</td>
</tr>
<tr class="odd">
<td align="left">patientyr</td>
<td align="left">person-time</td>
</tr>
<tr class="even">
<td align="left">rate</td>
<td align="left">incidence</td>
</tr>
</tbody>
</table>
<div id="log-transformation" class="section level3 unnumbered">
<h3>2.1 Log Transformation</h3>
<div id="a.-generate-the-log-transformation-of-rate-and-standard-error" class="section level4 unnumbered">
<h4>2.1a. Generate the log transformation of rate and standard error</h4>
<p>First of all, we have to generate new variables for the log transformation of the rate and the standard error of the transformed rate. You can find the details for the formula on page 58 of the handout.</p>
<p>So, the code for transforming the rate is:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="co"># Log transformation</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2">nibali<span class="op">$</span>lograte &lt;-<span class="st"> </span><span class="kw">log</span>(nibali<span class="op">$</span>rate) <span class="co"># log rate</span></a>
<a class="sourceLine" id="cb37-3" data-line-number="3">nibali<span class="op">$</span>selnrate &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">/</span>(<span class="kw">sqrt</span>(nibali<span class="op">$</span>toothloss)) <span class="co"># standard error of log rate</span></a></code></pre></div>
</div>
<div id="b.-use-metagen-to-carry-out-the-meta-analysis-1" class="section level4 unnumbered">
<h4>2.1b. Use <code>metagen</code> to carry out the meta-analysis</h4>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="co"># Use metagen to carry out the meta-analysis</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2">nibali.gen&lt;-<span class="kw">metagen</span>(lograte, selnrate, <span class="dt">studlab =</span> authoryear, <span class="dt">data =</span> nibali)</a>
<a class="sourceLine" id="cb38-3" data-line-number="3">nibali.gen</a></code></pre></div>
<pre><code>##                                                95%-CI %W(fixed) %W(random)
## Waerhaug 1977              -1.9951 [-2.2643; -1.7259]      15.5       14.6
## Saxen 1986                 -2.2349 [-2.6969; -1.7730]       5.3       11.2
## Brown/Albandar 1996 (LJP)  -1.6983 [-1.9873; -1.4093]      13.5       14.3
## Brown/Albandar 1996 (GAgP) -2.4889 [-3.0799; -1.8980]       3.2        9.1
## Kamma 2003                 -1.5702 [-1.9546; -1.1858]       7.6       12.6
## Mros 2010                  -4.5099 [-5.8958; -3.1240]       0.6        2.9
## Graetz 2011                -2.0250 [-2.2559; -1.7940]      21.1       15.3
## Baumer 2011 (LAgP)         -3.8167 [-4.9483; -2.6851]       0.9        4.0
## Baumer 2011 (GAgP)         -1.9105 [-2.0974; -1.7237]      32.3       15.9
## 
## Number of studies combined: k = 9
## 
##                                          95%-CI      z  p-value
## Fixed effect model   -1.9611 [-2.0672; -1.8549] -36.21 &lt; 0.0001
## Random effects model -2.1093 [-2.3688; -1.8497] -15.93 &lt; 0.0001
## 
## Quantifying heterogeneity:
## tau^2 = 0.1010; H = 2.11 [1.53; 2.90]; I^2 = 77.5% [57.2%; 88.1%]
## 
## Test of heterogeneity:
##      Q d.f.  p-value
##  35.52    8 &lt; 0.0001
## 
## Details on meta-analytical method:
## - Inverse variance method
## - DerSimonian-Laird estimator for tau^2</code></pre>
</div>
<div id="c.-forest-plot-1" class="section level4 unnumbered">
<h4>2.1c. Forest plot</h4>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">forest</span>(nibali.gen)</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-28-1.png" width="1152" /></p>
<p>You can save this plot as pdf file by using the following command.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">pdf</span>(<span class="st">&quot;~/Desktop/meta/Lab_day2/nibali_log.pdf&quot;</span>,<span class="dt">height=</span><span class="dv">5</span>,<span class="dt">width=</span><span class="dv">8</span>)</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="kw">forest</span>(nibali.gen)</a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="kw">dev.off</span>()</a></code></pre></div>
<pre><code>## quartz_off_screen 
##                 2</code></pre>
<p>So, the pooled incidence rate of fixed effect model is</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="co">#incidence rate#</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="kw">exp</span>(<span class="op">-</span><span class="fl">1.96</span>)</a></code></pre></div>
<pre><code>## [1] 0.141</code></pre>
<p>And the duration of disease is</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="co">#duration of disease</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="dv">1</span><span class="op">/</span><span class="kw">exp</span>(<span class="op">-</span><span class="fl">1.96</span>)</a></code></pre></div>
<pre><code>## [1] 7.1</code></pre>
</div>
</div>
<div id="glmm-method-for-incidence-data" class="section level3 unnumbered">
<h3>2.2 GLMM Method for incidence data</h3>
<p>Here, we use the command<code>glmer</code> in <code>lme4</code> package to conduct the GLMM for incidence data. You can see the details by typing <code>help(&quot;glmer&quot;)</code>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1">nibali.glm &lt;-<span class="st"> </span><span class="kw">glmer</span>(toothloss<span class="op">/</span>patientyr <span class="op">~</span><span class="st">  </span>(<span class="dv">1</span> <span class="op">|</span><span class="st"> </span>authoryear), <span class="dt">data =</span> nibali, <span class="kw">poisson</span>(<span class="dt">link =</span> <span class="st">&quot;log&quot;</span>),<span class="dt">weights =</span> patientyr,<span class="dt">nAGQ =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="kw">summary</span>(nibali.glm)</a></code></pre></div>
<pre><code>## Generalized linear mixed model fit by maximum likelihood (Adaptive
##   Gauss-Hermite Quadrature, nAGQ = 10) [glmerMod]
##  Family: poisson  ( log )
## Formula: toothloss/patientyr ~ (1 | authoryear)
##    Data: nibali
## Weights: patientyr
## 
##      AIC      BIC   logLik deviance df.resid 
##     38.2     38.6    -17.1     34.2        7 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.1562 -0.0548  0.0708  0.0908  0.2713 
## 
## Random effects:
##  Groups     Name        Variance Std.Dev.
##  authoryear (Intercept) 0.552    0.743   
## Number of obs: 9, groups:  authoryear, 9
## 
## Fixed effects:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)   -2.367      0.268   -8.84   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>It is exactly a Random Intercept Poisson Regression Model.</p>
<p>You can see that the fixed effect is -2.37, which can be transformed to the pooled incidence rate by typing <code>exp(-2.37)</code>.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="co">#incidence rate</span></a>
<a class="sourceLine" id="cb49-2" data-line-number="2"><span class="kw">exp</span>(<span class="op">-</span><span class="fl">2.37</span>)</a></code></pre></div>
<pre><code>## [1] 0.0935</code></pre>
<p>And the duration of disease can be also obtained.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="co">#duration of disease</span></a>
<a class="sourceLine" id="cb51-2" data-line-number="2"><span class="dv">1</span><span class="op">/</span><span class="kw">exp</span>(<span class="op">-</span><span class="fl">2.37</span>)</a></code></pre></div>
<pre><code>## [1] 10.7</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exercise-1-ismail-prevalence-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-3-suvival-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-Prevalence_and_Survival_data.rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
